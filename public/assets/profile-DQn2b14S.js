import{u as y,a as C,x as w,r as P,j as e,U as L,C as h,B as r}from"./index-BjO4OBGt.js";import{C as i,a as l,b as d,c}from"./card-DW_tR_lU.js";import{I as R}from"./input-CUaQRxLP.js";import{L as a}from"./label-DoS8Orlk.js";import{B as E}from"./badge-DEp-JO2V.js";import{S}from"./separator-Dax_aLrx.js";import{L as U}from"./lock-C9f42vWb.js";import{D as f,C as z,S as F}from"./share-2-D6YSM3at.js";import{U as A}from"./users-CsX7cK6N.js";function V(){const[,o]=y(),{user:s}=C(),{toast:j}=w(),[N,b]=P.useState(""),n=()=>{var p;const t=window.location.origin,k=((p=s==null?void 0:s.id)==null?void 0:p.slice(-8))||"demo123",u=`${t}?ref=${k}`;return b(u),u},m=()=>{const t=n();navigator.clipboard.writeText(t),j({title:"Referral Link Copied!",description:"Share this link to earn 30% commission on all referrals"})},v=()=>{const t=n();navigator.share?navigator.share({title:"Join DealRadar",text:"Find amazing deals at your favorite stores!",url:t}):m()},x={totalReferrals:12,activeReferrals:8,totalEarnings:234.56,thisMonthEarnings:67.8,pendingEarnings:45.2},g={free:"Free Explorer",basic:"Pro Hunter",premium:"Business Elite"};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Profile & Account"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Manage your account, view your referral earnings, and track your activity"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"}),"Account Information"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Username"}),e.jsx("p",{className:"text-lg font-medium","data-testid":"text-username",children:s==null?void 0:s.username})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Email Address"}),e.jsx("p",{className:"text-lg font-medium","data-testid":"text-email",children:s==null?void 0:s.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"ZIP Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium","data-testid":"text-zip-code",children:s==null?void 0:s.zipCode}),e.jsx(U,{className:"w-4 h-4 text-muted-foreground"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Member Since"}),e.jsx("p",{className:"text-lg font-medium","data-testid":"text-member-since",children:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString():"Recently"})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(h,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-lg font-medium",children:g[s==null?void 0:s.subscriptionPlan]||"Free Explorer"})]})]}),e.jsx(r,{variant:"outline",onClick:()=>o("/subscription"),"data-testid":"button-manage-subscription",children:"Manage Subscription"})]})]})]}),e.jsxs(i,{className:"border-2 border-green-200 dark:border-green-800",children:[e.jsxs(l,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30",children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-green-600"}),"Referral Program - 30% Commission"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 30% flat rate commission on every person you refer who becomes a paying subscriber"})]}),e.jsxs(c,{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[e.jsx(A,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-referrals",children:x.totalReferrals}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Referrals"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[e.jsx(f,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",x.totalEarnings.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Earned"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{htmlFor:"referral-link",className:"text-sm font-medium",children:"Your Referral Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{id:"referral-link",defaultValue:N||n(),readOnly:!0,className:"flex-1 font-mono text-sm","data-testid":"input-referral-link"}),e.jsx(r,{variant:"outline",size:"sm",onClick:m,"data-testid":"button-copy-referral",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx(r,{variant:"outline",size:"sm",onClick:v,"data-testid":"button-share-referral",children:e.jsx(F,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-950/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsx("strong",{children:"30% commission"})," on all referral subscriptions â€¢ $25 minimum payout"]})})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-blue-600"}),"Current Plan"]})}),e.jsx(c,{children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx(E,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",children:g[s==null?void 0:s.subscriptionPlan]||"Free Explorer"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.subscriptionPlan)==="premium"?"Unlimited scans":(s==null?void 0:s.subscriptionPlan)==="basic"?"50 scans/month":"3 scans/month"}),e.jsx(r,{size:"sm",variant:"outline",className:"w-full",onClick:()=>o("/subscription"),"data-testid":"button-upgrade-plan",children:(s==null?void 0:s.subscriptionPlan)==="premium"?"Manage Plan":"Upgrade Plan"})]})})]})})]})]})})}export{V as default};
