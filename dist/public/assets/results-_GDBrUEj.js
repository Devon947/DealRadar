import{c as w,a as W,r as c,j as e,B as a,b as q,S as k}from"./index-BjO4OBGt.js";import{C as n,c as o,a as Q,b as X}from"./card-DW_tR_lU.js";import{B as d}from"./badge-DEp-JO2V.js";import{I as Z}from"./input-CUaQRxLP.js";import{S as p,a as v,b as N,c as f,d as r}from"./select-CSQsYfWP.js";import{T as P}from"./trending-down-CRMTAST8.js";import{C as J}from"./circle-alert-NKXsH-s2.js";import{S as K,H as C}from"./shopping-cart-DAsQAGv1.js";import{S as D}from"./store-Dk2pWrXh.js";import{M as L}from"./map-pin-uFC9G9SU.js";import{B as M}from"./bell-BO1rgZXe.js";import{E as z}from"./external-link-CWfG4zue.js";import"./index-BdQq_4o_.js";import"./index-BZt9lQWF.js";import"./chevron-down-BLF5X8Xa.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=w("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=w("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=w("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);function pe(){W();const[m,$]=c.useState(""),[y,F]=c.useState("discount-desc"),[h,H]=c.useState("all"),[u,A]=c.useState("all"),[x,S]=c.useState("grid"),[i,T]=c.useState([]),g=[{id:"1",productName:"DeWalt 20V MAX Cordless Drill",sku:"DCD771C2",originalPrice:199,salePrice:119.4,discountPercent:40,savings:79.6,store:"Home Depot",storeLocation:"Main Street",category:"Tools",inStock:!0,clearance:!0,productUrl:"#"},{id:"2",productName:"Ryobi 18V Circular Saw",sku:"P507",originalPrice:89.97,salePrice:53.98,discountPercent:40,savings:35.99,store:"Home Depot",storeLocation:"Downtown",category:"Tools",inStock:!0,clearance:!0,productUrl:"#"},{id:"3",productName:"Weber Genesis II Gas Grill",sku:"E-335",originalPrice:899,salePrice:629.3,discountPercent:30,savings:269.7,store:"Home Depot",storeLocation:"Westside",category:"Outdoor",inStock:!1,clearance:!0,productUrl:"#"},{id:"4",productName:"Behr Premium Paint 1-Gallon",sku:"P38030",originalPrice:54.98,salePrice:38.49,discountPercent:30,savings:16.49,store:"Home Depot",storeLocation:"Main Street",category:"Paint",inStock:!0,clearance:!0,productUrl:"#"},{id:"5",productName:"Milwaukee M18 Impact Driver",sku:"2853-20",originalPrice:149,salePrice:104.3,discountPercent:30,savings:44.7,store:"Home Depot",storeLocation:"Northgate",category:"Tools",inStock:!0,clearance:!0,productUrl:"#"},{id:"6",productName:"Scott's Turf Builder Fertilizer",sku:"22305",originalPrice:47.98,salePrice:28.79,discountPercent:40,savings:19.19,store:"Home Depot",storeLocation:"Southpark",category:"Garden",inStock:!0,clearance:!1,productUrl:"#"}],l=[...g.filter(s=>{const t=s.productName.toLowerCase().includes(m.toLowerCase())||s.sku.toLowerCase().includes(m.toLowerCase()),j=h==="all"||s.category===h,O=u==="all"||s.storeLocation===u;return t&&j&&O})].sort((s,t)=>{switch(y){case"discount-desc":return t.discountPercent-s.discountPercent;case"discount-asc":return s.discountPercent-t.discountPercent;case"savings-desc":return t.savings-s.savings;case"savings-asc":return s.savings-t.savings;case"price-asc":return s.salePrice-t.salePrice;case"price-desc":return t.salePrice-s.salePrice;case"name-asc":return s.productName.localeCompare(t.productName);default:return 0}}),B=Array.from(new Set(g.map(s=>s.category))),I=Array.from(new Set(g.map(s=>s.storeLocation))),G=l.reduce((s,t)=>s+t.savings,0),U=l.filter(s=>s.clearance).length,V=l.filter(s=>s.inStock).length,b=s=>{T(t=>t.includes(s)?t.filter(j=>j!==s):[...t,s])},E=({deal:s})=>e.jsxs(n,{className:`relative hover:shadow-lg transition-all duration-300 ${i.includes(s.id)?"ring-2 ring-blue-600":""}`,children:[s.clearance&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsxs(d,{className:"bg-red-600 text-white",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),"Clearance"]})}),e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsxs(d,{className:"bg-green-600 text-white font-bold",children:[s.discountPercent,"% OFF"]})}),e.jsxs(Q,{className:"pb-4",children:[e.jsx("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-800 rounded-lg mb-4 flex items-center justify-center",children:e.jsx(D,{className:"w-8 h-8 text-gray-400"})}),e.jsx(X,{className:"text-lg line-clamp-2 min-h-[3.5rem]",children:s.productName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.store," - ",s.storeLocation]})]})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Was"}),e.jsxs("span",{className:"text-sm line-through text-muted-foreground",children:["$",s.originalPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Now"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",s.salePrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Save"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["$",s.savings.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.inStock?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-xs ${s.inStock?"text-green-600":"text-red-600"}`,children:s.inStock?"In Stock":"Out of Stock"})]}),e.jsx(d,{variant:"outline",className:"text-xs",children:s.category}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(a,{size:"sm",variant:"outline",onClick:()=>b(s.id),className:"flex-1","data-testid":`button-select-deal-${s.id}`,children:[e.jsx(C,{className:`w-3 h-3 mr-1 ${i.includes(s.id)?"fill-red-500 text-red-500":""}`}),i.includes(s.id)?"Added":"Save"]}),e.jsx(a,{size:"sm",variant:"outline","data-testid":`button-alert-deal-${s.id}`,children:e.jsx(M,{className:"w-3 h-3"})}),e.jsx(a,{size:"sm",variant:"outline","data-testid":`button-view-deal-${s.id}`,children:e.jsx(z,{className:"w-3 h-3"})})]})]})})]}),R=({deal:s})=>e.jsx(n,{className:`hover:shadow-md transition-all duration-200 ${i.includes(s.id)?"ring-2 ring-blue-600":""}`,children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(D,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium truncate",children:s.productName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.store," - ",s.storeLocation]}),s.clearance&&e.jsx(d,{className:"bg-red-600 text-white text-xs",children:"Clearance"})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:"text-sm line-through text-muted-foreground",children:["$",s.originalPrice.toFixed(2)]}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",s.salePrice.toFixed(2)]}),e.jsxs("div",{className:"text-xs text-green-600",children:["Save $",s.savings.toFixed(2)]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(d,{className:"bg-green-600 text-white font-bold",children:[s.discountPercent,"% OFF"]})}),e.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[e.jsx(a,{size:"sm",variant:"outline",onClick:()=>b(s.id),children:e.jsx(C,{className:`w-3 h-3 ${i.includes(s.id)?"fill-red-500 text-red-500":""}`})}),e.jsx(a,{size:"sm",variant:"outline",children:e.jsx(M,{className:"w-3 h-3"})}),e.jsx(a,{size:"sm",variant:"outline",children:e.jsx(z,{className:"w-3 h-3"})})]})]})})});return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Scan Results"}),e.jsxs("p",{className:"text-muted-foreground",children:["Found ",l.length," deals from your scan"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:x==="grid"?"default":"outline",size:"sm",onClick:()=>S("grid"),"data-testid":"button-grid-view",children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx(a,{variant:x==="list"?"default":"outline",size:"sm",onClick:()=>S("list"),"data-testid":"button-list-view",children:e.jsx(ee,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(n,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Deals"})]})]})})}),e.jsx(n,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:U}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Clearance Items"})]})]})})}),e.jsx(n,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:V}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"In Stock"})]})]})})}),e.jsx(n,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",G.toFixed(0)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Savings"})]})]})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Z,{placeholder:"Search products...",value:m,onChange:s=>$(s.target.value),className:"pl-10","data-testid":"input-search-deals"})]}),e.jsxs(p,{value:h,onValueChange:H,children:[e.jsx(v,{className:"w-40",children:e.jsx(N,{placeholder:"Category"})}),e.jsxs(f,{children:[e.jsx(r,{value:"all",children:"All Categories"}),B.map(s=>e.jsx(r,{value:s,children:s},s))]})]}),e.jsxs(p,{value:u,onValueChange:A,children:[e.jsx(v,{className:"w-40",children:e.jsx(N,{placeholder:"Store"})}),e.jsxs(f,{children:[e.jsx(r,{value:"all",children:"All Stores"}),I.map(s=>e.jsx(r,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(p,{value:y,onValueChange:F,children:[e.jsx(v,{className:"w-48",children:e.jsx(N,{placeholder:"Sort by"})}),e.jsxs(f,{children:[e.jsx(r,{value:"discount-desc",children:"Highest Discount"}),e.jsx(r,{value:"discount-asc",children:"Lowest Discount"}),e.jsx(r,{value:"savings-desc",children:"Highest Savings"}),e.jsx(r,{value:"savings-asc",children:"Lowest Savings"}),e.jsx(r,{value:"price-asc",children:"Price: Low to High"}),e.jsx(r,{value:"price-desc",children:"Price: High to Low"}),e.jsx(r,{value:"name-asc",children:"Name: A to Z"})]})]}),e.jsxs(a,{variant:"outline",size:"sm","data-testid":"button-export-results",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})]}),l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No deals found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters"})]}):e.jsx("div",{className:x==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:l.map(s=>x==="grid"?e.jsx(E,{deal:s},s.id):e.jsx(R,{deal:s},s.id))}),i.length>0&&e.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border p-4 min-w-80",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:[i.length," deals selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{size:"sm",variant:"outline",children:"Add to List"}),e.jsx(a,{size:"sm",variant:"outline",children:"Set Alerts"}),e.jsx(a,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Save All"})]})]})})]})})}export{pe as default};
