import{u as f,r as i,j as e,B as t}from"./index-BjO4OBGt.js";import{C as m,c as x,a as u,b as j}from"./card-DW_tR_lU.js";import{B as c}from"./badge-DEp-JO2V.js";import{H as v,S as N}from"./shopping-cart-DAsQAGv1.js";import{P as g}from"./plus-BSwAWx9K.js";import{T as y}from"./trash-2-BV9km9UB.js";import{M as P}from"./map-pin-uFC9G9SU.js";import{T as b}from"./target-j9Nddwl4.js";import{E as w}from"./external-link-CWfG4zue.js";function G(){const[,l]=f(),[n,S]=i.useState(()=>localStorage.getItem("lists-sort-preference")||"most-recent"),[o,C]=i.useState("all"),[r]=i.useState([{id:"1",name:"DEWALT 20V MAX Cordless Drill Kit",originalPrice:179,clearancePrice:89.99,store:"Home Depot",category:"Power Tools",savedAt:"2024-12-10",targetPrice:75,aisle:"A12",notes:"Wait for better discount",isCompleted:!1},{id:"2",name:"Miracle-Gro Garden Soil 2 cu ft",originalPrice:7.98,clearancePrice:4.99,store:"Lowe's",category:"Garden Center",savedAt:"2024-12-12",targetPrice:3.5,aisle:"Garden Center",notes:"Spring planting prep",isCompleted:!1},{id:"3",name:'Samsung 32" Smart TV',originalPrice:249.99,clearancePrice:179.99,store:"Walmart",category:"Electronics",savedAt:"2024-12-08",targetPrice:200,aisle:"Electronics",notes:"Holiday gift - PURCHASED!",isCompleted:!0},{id:"4",name:"Weber Spirit II E-210 Gas Grill",originalPrice:399,clearancePrice:299,store:"Lowe's",category:"Outdoor Living",savedAt:"2024-12-11",targetPrice:250,aisle:"Garden Center",notes:"Summer BBQ upgrade",isCompleted:!1},{id:"5",name:"Milwaukee M18 Impact Driver",originalPrice:149,clearancePrice:99,store:"Home Depot",category:"Power Tools",savedAt:"2024-12-14",targetPrice:90,aisle:"A12",notes:"Perfect for deck project",isCompleted:!1}]);i.useEffect(()=>{localStorage.setItem("lists-sort-preference",n)},[n]);const d=[...r].sort((s,a)=>{switch(n){case"most-recent":return new Date(a.savedAt).getTime()-new Date(s.savedAt).getTime();case"discount-high":const p=(s.originalPrice-s.clearancePrice)/s.originalPrice*100;return(a.originalPrice-a.clearancePrice)/a.originalPrice*100-p;case"price-low":return s.clearancePrice-a.clearancePrice;case"store-az":return s.store.localeCompare(a.store);default:return 0}});o==="all"||d.filter(s=>s.category===o),Array.from(new Set(r.map(s=>s.category)));const h=(s,a)=>Math.round((s-a)/s*100);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Saved Items"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Keep track of your favorite clearance finds"})]}),r.length===0?e.jsx(m,{className:"text-center py-12",children:e.jsxs(x,{children:[e.jsx(v,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No saved items yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Start scanning to find deals and save your favorites"}),e.jsxs(t,{onClick:()=>l("/scan"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700","data-testid":"button-start-scanning",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Start Scanning"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[r.length," saved items"]}),e.jsxs(t,{onClick:()=>l("/scan"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700","data-testid":"button-add-more-items",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Find More Deals"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>e.jsxs(m,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs(u,{className:"pb-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(c,{variant:"secondary",className:"mb-2",children:s.category}),s.isCompleted&&e.jsx(c,{variant:"outline",className:"mb-2 text-green-600 border-green-600",children:"Purchased"})]}),e.jsx(t,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700","data-testid":`button-remove-${s.id}`,children:e.jsx(y,{className:"w-4 h-4"})})]}),e.jsx(j,{className:"text-lg",children:s.name})]}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",s.clearancePrice]}),e.jsxs("span",{className:"text-sm line-through text-gray-500",children:["$",s.originalPrice]})]}),e.jsxs(c,{variant:"destructive",children:[h(s.originalPrice,s.clearancePrice),"% off"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.store}),s.aisle&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),e.jsx("span",{children:s.aisle})]})]})]}),s.targetPrice&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-3 h-3 text-blue-600"}),e.jsxs("span",{children:["Target: $",s.targetPrice]}),s.clearancePrice<=s.targetPrice&&e.jsx(c,{variant:"outline",className:"text-xs text-green-600 border-green-600 ml-1",children:"Target Hit!"})]}),s.notes&&e.jsxs("p",{className:"text-xs italic bg-gray-50 dark:bg-gray-800 rounded p-2",children:['"',s.notes,'"']}),e.jsxs("p",{children:["Saved ",new Date(s.savedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(t,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-view-${s.id}`,children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"View Deal"]}),e.jsxs(t,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-shop-${s.id}`,children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Shop"]})]})]})})]},s.id))})]})]})})}export{G as default};
