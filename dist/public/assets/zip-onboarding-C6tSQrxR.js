import{c as h,u as b,r as d,a as g,x as f,j as e,B as j,o as N}from"./index-BjO4OBGt.js";import{C as v,a as y,b as k,c as P}from"./card-DW_tR_lU.js";import{I as w}from"./input-CUaQRxLP.js";import{L as C}from"./label-DoS8Orlk.js";import{M as I}from"./map-pin-uFC9G9SU.js";import{P as Z}from"./phone-i59DFYp6.js";import{L as S}from"./lock-C9f42vWb.js";import{S as z}from"./shield-DdIsYw_M.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=h("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function W(){const[,o]=b(),[t,c]=d.useState(""),[a,i]=d.useState(!1),[n,r]=d.useState(""),{updateZipCode:m}=g(),{toast:x}=f(),u=s=>/^\d{5}(-\d{4})?$/.test(s),p=async s=>{if(s.preventDefault(),r(""),!u(t)){r("Please enter a valid ZIP code (e.g., 12345 or 12345-6789)");return}i(!0);try{await m(t.slice(0,5)),x({title:"ZIP Code Saved!",description:"Welcome to DealRadar! Start finding deals near you."}),o("/")}catch(l){r("Failed to save ZIP code. Please try again."),console.error("ZIP code update failed:",l)}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxs(v,{className:"w-full max-w-md panel",children:[e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(I,{className:"text-white w-6 h-6"})}),e.jsx(k,{className:"text-2xl",children:"Welcome to DealRadar"}),e.jsx("p",{className:"text-muted-foreground",children:"Now we need your ZIP code to find deals near you"})]}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"zipCode",className:"text-sm font-medium",children:"ZIP Code"}),e.jsx(w,{id:"zipCode",type:"text",placeholder:"Enter your ZIP code",value:t,onChange:s=>c(s.target.value),className:"text-center text-lg font-mono",maxLength:10,"data-testid":"input-zip-code",disabled:a}),n&&e.jsx("p",{className:"text-sm text-destructive mt-1","data-testid":"text-zip-error",children:n})]}),e.jsx(j,{type:"submit",className:"w-full",disabled:!t.trim()||a,"data-testid":"button-save-zip",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loading-spinner mr-2"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Save ZIP Code"]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-950/30 rounded-lg border border-amber-200 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"⚠️ IMPORTANT: Password Reset Security"}),e.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 mb-2",children:"Password resets require contacting support to keep your subscription secure and prevent unauthorized access."}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-800 dark:text-amber-200",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Support: (904) 990-3634"})]})]})]})}),e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Your ZIP Code is Secure"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"We only use your ZIP code to find stores near you. Your ZIP code cannot be changed after setting for security reasons."})]})]})}),e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-950/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-1",children:"Privacy Protected"}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your location data is never shared with third parties and is only used to show you relevant deals."})]})]})})]})]})]})})}export{W as default};
